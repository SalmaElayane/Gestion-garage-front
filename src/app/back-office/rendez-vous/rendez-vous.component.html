<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark gradient-custom">
  <!-- Container wrapper -->
  <div class="container-fluid">
    <!-- Navbar brand -->
    <a class="navbar-brand" href="#"
      ><h3>
        <i class="fas fa-calendar-alt">
          &nbsp;<span style="color: #d15d0f">Gestion</span
          ><span style="color: #fff"> Des Rendez-Vous</span></i
        >
      </h3></a
    >
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <!-- Toggle button -->
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#myNavbar"
    >
      <i class="fas fa-bars fa-lg"></i>
    </button>
    <!-- Collapsible wrapper -->
    <div class="collapse navbar-collapse justify-content-center" id="myNavbar">
      <!-- Left links -->
      <ul class="navbar-nav me-auto d-flex flex-row mt-3 mt-lg-0">
        <li class="nav-item text-center mx-2 mx-lg-1">
          <a class="nav-link active" aria-current="page" href="#!">
            <div>
              <i class="fas fa-home fa-lg mb-1"></i>
            </div>
            Home
          </a>
        </li>
      </ul>
      <!-- Right links -->
      <ul class="navbar-nav ms-auto d-flex flex-row mt-3 mt-lg-0">
        <li class="nav-item text-center mx-2 mx-lg-1">
          <a class="nav-link" href="addRendezVous">
            <div>
              <i class="fas fa-calendar-alt">&nbsp;</i
              ><i class="fas fa-plus"></i>
            </div>
            Apprend Rendez-vous
          </a>
        </li>
      </ul>
      <ul class="navbar-nav ms-auto d-flex flex-row mt-3 mt-lg-0">
        <li class="nav-item text-center mx-2 mx-lg-1">
          <a class="nav-link" href="menu">
            <div>
              <i class="fas fa-sign-in-alt"></i>
            </div>
            Quitter
          </a>
        </li>
      </ul>
      <!-- Right links -->
    </div>
    <!-- Collapsible wrapper -->
  </div>
  <!-- Container wrapper -->
</nav>
<!-- Navbar -->
<br />
<div class="container">
  <!-- Chercher form -->
  <form [formGroup]="rendezVousFormGroup" class="form-inline my-2 my-lg-0">
    <input
      class="form-control mr-sm-2"
      type="text"
      placeholder="Chercher par référence..."
      aria-label="Search"
      formControlName="recherchereference"
    />
    <button
      class="btn btn-outline-success my-2 my-sm-0"
      type="submit"
      (click)="chercherRendezVous()"
    >
      <i class="fas fa-search"></i> Chercher
    </button>
    <h5 style="margin-left: auto">
      <label style="margin-left: 85%"></label>Statut&nbsp;<i
        class="fas fa-file-contract"
      ></i
      >&nbsp;:
      <select
        class="form-select form-select-lg mb-3"
        aria-label=".form-select-lg example"
        style="margin-left: auto; font-size: 20px"
        formControlName="statutFilter"
        (change)="getAllForStatut()"
      >
        <option value="En attendant" style="color: Blue">En attendant</option>
        <option value="VALIDEE" style="color: Green">Valider</option>
        <option value="REFUSEE" style="color: Brown">Refuser</option>
      </select>
    </h5>
  </form>

  <br />
  <table class="table table-striped table-hover table-bordered text-center">
    <thead>
      <tr>
        <th scope="col">Référence</th>
        <th scope="col ">Cin Utilisateur</th>
        <th scope="col">Type</th>
        <th scope="col">Date Rendez-vous</th>
        <th scope="col">Description</th>
        <th scope="col ">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of data">
        <td>{{ item.reference }}</td>
        <td>{{ item.utilisateurDto.cin }}</td>
        <td>{{ item.type }}</td>
        <td>{{ item.dateRendezVous }}</td>
        <td>{{ item.description }}</td>
        <td>
          <div class="btn-group">
            <button
              type="button"
              class="btn btn-primary dropdown-toggle"
              data-toggle="dropdown"
            >
              <i class="fas fa-align-justify"></i>
            </button>
            <div class="dropdown-menu">
              <button
                type="button"
                class="btn btn-success"
                (click)="updateRendezVous(item)"
              >
                Modifier
                <i class="far fa-edit"></i>
              </button>
              <br /><br />
              <button
                type="button"
                class="btn btn-success"
                (click)="validerRendezVous(item)"
              >
                Accepter
                <i class="fas fa-check"></i></button
              ><br /><br />
              <button
                type="button"
                class="btn btn-danger"
                (click)="deleteRendezVous(item)"
              >
                Annuler
                <i class="fas fa-trash-alt"></i></button
              ><br /><br />
              <button
                type="button"
                class="btn btn-danger"
                (click)="refuserRendezVous(item)"
              >
                Refuser
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
